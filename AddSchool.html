<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart vidyarthi</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <nav class="navbar  bg-primary navbar-dark " style="margin-bottom: 0px;">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="#"><img style="width: 80px; border-radius: 50%;" src="img/WhatsApp Image 2024-03-28 at 9.32.15 PM.png" alt=""></a>
            </li>
        </ul>
        <div class="dropdown">
            <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src="https://i.pinimg.com/736x/07/33/ba/0733ba760b29378474dea0fdbcb97107.jpg" alt=""
                    style="border-radius: 50%; max-width: 30px;"><span>abhishek</span>
            </a>

            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" href="#">Logout</a>
            </div>
        </div>
    </nav>
    <!-- end of navbar -->

    <!-- start of side bar -->

    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <ul class="list-unstyled components">
                <a href="index.html">
                    <p>Dashboard</p>
                </a>
                <li class="active">
                    <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Manage school</a>
                    <ul class="collapse list-unstyled" id="homeSubmenu">
                        <li>
                            <a href="AddSchool.html">Add school</a>
                        </li>
                        <li>
                            <a href="ManageSchool.html">Manage School</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <div id="content">
            <nav class="navbar navbar-expand-sm navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebarCollapse" class="btn btn-light">
                        <i class="fas fa-align-left">
                            <img src="img/menu.png" alt="">
                        </i>
                    </button>
                </div>
            </nav>

            <div class="card-body">
                <h4 class="card-title">Add Schools</h4>
                <p class="card-description"></p>
                <form class="forms-sample" action="http://127.0.0.1:8000/manager/store" method="post" id="schoolForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label for="name" class="col-sm-3 col-form-label">School Name</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" name="name" id="name" placeholder="Name" required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label for="phone_number" class="col-sm-3 col-form-label">Phone No.</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" name="phone_number" id="phone_number" placeholder="phone No." required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label for="email" class="col-sm-3 col-form-label">Email</label>
                                <div class="col-sm-9">
                                    <input type="email" class="form-control" name="email" id="email" placeholder="Email" required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label for="password" class="col-sm-3 col-form-label">Password</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control" name="password" id="password" placeholder="Password" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary me-2">Save</button>
                    <a class="btn btn-light" href="/manager">Cancel</a>
                </form>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
        <script>
            document.getElementById('schoolForm').addEventListener('submit', async function (event) {
                event.preventDefault();

                const form = event.target;
                const data = {
                    name: form.name.value,
                    phone_number: form.phone_number.value,
                    email: form.email.value,
                    password: form.password.value,
                };

                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data),
                    });

                    if (response.ok) {
                        alert('School data saved successfully');
                    } else {
                        const error = await response.text();
                        alert('Error: ' + error);
                    }
                } catch (error) {
                    alert('Error: ' + error.message);
                }
            });
        </script>
</body>
</html>
